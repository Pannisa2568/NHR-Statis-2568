<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡πÅ‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô NHR School 2568</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Prompt', sans-serif;
      background-color: #fff;
      color: #000;
      padding: 1rem;
      margin: 0;
    }
    .container {
      max-width: 700px;
      margin: auto;
      border: 4px solid orange;
      padding: 1.5rem;
      border-radius: 12px;
    }
    h1 {
      text-align: center;
      color: #000;
      font-size: 1.6rem;
      margin-bottom: 0.2rem;
    }
    .center {
      text-align: center;
      margin-bottom: 1rem;
      color: #333;
    }
    .logo {
      width: 100%;
      max-width: 140px;
      height: auto;
      display: block;
      margin: 0.5rem auto;
    }
    label {
      display: block;
      margin-top: 1rem;
    }
    select, input {
      width: 100%;
      padding: 0.6rem;
      font-size: 1rem;
      margin-top: 0.25rem;
      border-radius: 6px;
      border: 2px solid orange;
    }
    #submitBtn {
      background-color: red;
      color: #fff;
      border: none;
      margin-top: 1.5rem;
      padding: 0.8rem;
      width: 100%;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 6px;
    }
    #submitBtn:disabled {
      background-color: gray;
      cursor: not-allowed;
    }
    #backBtn {
      margin-top: 1rem;
      width: 100%;
      padding: 0.5rem;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    canvas {
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <img class="logo" src="https://img2.pic.in.th/pic/25673da72eed99cbdfc9.png" alt="Logo1" />
    <img class="logo" src="https://img5.pic.in.th/file/secure-sv1/2-5-2568-8-05-20.png" alt="Logo2" />

    <h1>‡πÅ‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô NHR School 2568</h1>
    <p id="currentDate" class="center"></p>

    <form id="nhrForm">
      <label>‡∏ä‡∏±‡πâ‡∏ô/‡∏´‡πâ‡∏≠‡∏á</label>
      <select name="entry.522842455" required>
        <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏±‡πâ‡∏ô/‡∏´‡πâ‡∏≠‡∏á</option>
        <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2/1</option>
        <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2/2</option>
        <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 2/3</option>
        <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3/1</option>
        <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3/2</option>
        <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3/3</option>
        <option>‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏• 3/4</option>
        <option>‡∏õ.1/1</option>
        <option>‡∏õ.1/2</option>
        <option>‡∏õ.1/3</option>
        <option>‡∏õ.1/4</option>
        <option>‡∏õ.2/1</option>
        <option>‡∏õ.2/2</option>
        <option>‡∏õ.2/3</option>
        <option>‡∏õ.2/4</option>
        <option>‡∏õ.3/1</option>
        <option>‡∏õ.3/2</option>
        <option>‡∏õ.3/3</option>
        <option>‡∏õ.3/4</option>
        <option>‡∏õ.4/1</option>
        <option>‡∏õ.4/2</option>
        <option>‡∏õ.4/3</option>
        <option>‡∏õ.4/4</option>
        <option>‡∏õ.5/1</option>
        <option>‡∏õ.5/2</option>
        <option>‡∏õ.5/3</option>
        <option>‡∏õ.5/4</option>
        <option>‡∏õ.5/5</option>
        <option>‡∏õ.6/1</option>
        <option>‡∏õ.6/2</option>
        <option>‡∏õ.6/3</option>
        <option>‡∏õ.6/4</option>
        <option>‡∏õ.6/5</option>
      </select>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢ üë¶üèª ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
      <input type="number" name="entry.446341418" min="0" value="0" required>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á üëß ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
      <input type="number" name="entry.1572431820" min="0" value="0" required>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢ üë¶üèª ‡∏ó‡∏µ‡πà‡∏õ‡πà‡∏ß‡∏¢</label>
      <input type="number" name="entry.932967472" min="0" value="0" required>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢ üë¶üèª ‡∏ó‡∏µ‡πà‡∏•‡∏≤</label>
      <input type="number" name="entry.1558724961" min="0" value="0" required>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ä‡∏≤‡∏¢ üë¶üèª ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î</label>
      <input type="number" name="entry.1652164491" min="0" value="0" required>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á üëß ‡∏ó‡∏µ‡πà‡∏õ‡πà‡∏ß‡∏¢</label>
      <input type="number" name="entry.878207052" min="0" value="0" required>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á üëß ‡∏ó‡∏µ‡πà‡∏•‡∏≤</label>
      <input type="number" name="entry.1277963062" min="0" value="0" required>

      <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ç‡∏¥‡∏á üëß ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î</label>
      <input type="number" name="entry.2011543549" min="0" value="0" required>

      <button id="submitBtn" type="submit">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    </form>
    <button id="backBtn" onclick="history.back()">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>

    <canvas id="summaryChart"></canvas>
  </div>

  <audio id="ding" src="https://www.soundjay.com/buttons/sounds/button-3.mp3" preload="auto"></audio>

  <script>
    // ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
    const months = ["‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå","‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°","‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô","‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°","‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô","‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°","‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô","‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°","‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô","‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°"];
    const today = new Date();
    const dateStr = `${today.getDate()} ${months[today.getMonth()]} ${today.getFullYear() + 543}`;
    document.getElementById("currentDate").textContent = `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${dateStr}`;

    const form = document.getElementById('nhrForm');
    const submitBtn = document.getElementById('submitBtn');
    const audio = document.getElementById('ding');
    const bell = new Audio('https://cdn.pixabay.com/audio/2022/03/15/audio_d126d8d3df.mp3');
bell.play();

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      submitBtn.disabled = true;

      const formData = new FormData(form);
      const query = new URLSearchParams(formData).toString();
      const url = 'https://docs.google.com/forms/d/e/1FAIpQLScIozo9wi774bgxMN6-ZJz5hqcOOQr5qFjJQixnnVKVydx-dQ/formResponse';

      fetch(url, {
        method: 'POST',
        mode: 'no-cors',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: query
      });

      submitBtn.style.backgroundColor = 'green';
      audio.play();

      setTimeout(() => {
        alert("‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏∞");
        form.reset();
        Array.from(form.elements).forEach(el => {
          if (el.type === 'number') el.value = 0;
        });
        submitBtn.disabled = false;
        submitBtn.style.backgroundColor = 'red';
      }, 2000);
    });

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á Dashboard ‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏≤‡∏ü
    const ctx = document.getElementById('summaryChart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', '‡∏õ‡πà‡∏ß‡∏¢', '‡∏•‡∏≤', '‡∏Ç‡∏≤‡∏î'],
        datasets: [{
          label: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô',
          data: [0, 0, 0, 0],
          backgroundColor: ['#10B981', '#F59E0B', '#3B82F6', '#EF4444']
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          title: {
            display: true,
            text: '‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ'
          }
        }
      }
    });

    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏£‡∏≤‡∏ü‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    form.addEventListener('submit', function () {
      const male = [
        parseInt(form['entry.446341418'].value), // ‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ä‡∏≤‡∏¢
        parseInt(form['entry.932967472'].value), // ‡∏õ‡πà‡∏ß‡∏¢
        parseInt(form['entry.1558724961'].value), // ‡∏•‡∏≤
        parseInt(form['entry.1652164491'].value)  // ‡∏Ç‡∏≤‡∏î
      ];
      const female = [
        parseInt(form['entry.1572431820'].value), // ‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏´‡∏ç‡∏¥‡∏á
        parseInt(form['entry.878207052'].value),  // ‡∏õ‡πà‡∏ß‡∏¢
        parseInt(form['entry.1277963062'].value), // ‡∏•‡∏≤
        parseInt(form['entry.2011543549'].value)  // ‡∏Ç‡∏≤‡∏î
      ];

      const total = male.map((val, i) => val + female[i]);
      chart.data.datasets[0].data = total;
      chart.update();
    });
  </script>
</body>
</html>
